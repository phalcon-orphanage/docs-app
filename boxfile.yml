run.config:
  engine: php

  engine.config:
    runtime: php-7.1
    document_root: public
    allow_url_fopen: 'On'
    max_execution_time: 30
    max_input_time: 60
    max_input_vars: 1000
    memory_limit: '128M'
    error_reporting: E_ALL
    display_errors: 'stderr'
    register_globals: 'Off'
    register_argc_argv: 'Off'

    default_mimetype: 'text/html'
    default_locale: 'en_US'
    date_timezone: 'UTC'
    iconv_internal_encoding: 'UTF-8'

    session_save_handler: 'files'
    session_save_path: '/tmp'
    session_length: 3600
    session_autostart: 'false'

    extensions:
      - curl
      - ctype
      - dom
      - json
      - mbstring
      # uncomment after 3.4.2nb1 is replaced
      # - phalcon
      - simplexml
      - tokenizer
      - xml
      - xmlwriter
      - fileinfo
      - zip
    zend_extensions:
      - opcache
    dev_zend_extensions:
      add:
        - xdebug
      rm:
        - opcache

  extra_packages:
    # remove after 3.4.2nb1 is replaced
    - php71-phalcon-3.3.2

  extra_steps:
    - echo "alias phalcon=\'phalcon.php\'" >> /data/var/home/gonano/.bashrc
    - cp /app/storage/setup/xdebug.ini /data/etc/php.dev.d/xdebug.ini
    # remove after 3.4.2nb1 is replaced
    - echo "extension=phalcon.so" > /data/etc/php.dev.d/phalcon.ini
